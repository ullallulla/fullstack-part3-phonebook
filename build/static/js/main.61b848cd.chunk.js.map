{"version":3,"sources":["services/personService.js","components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","person","deletePerson","name","number","onClick","Persons","filter","persons","toLowerCase","includes","map","i","PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","filterPersons","Notification","message","className","ErrorNotification","App","useState","setPersons","setNewName","setNewNumber","setFilter","notification","setNotification","errorMessage","setErrorMessage","useEffect","personService","initialPersons","event","target","preventDefault","personObject","find","console","log","window","confirm","changedNumber","returnedPerson","p","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.61b848cd.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const deleteUser = (id, newObject) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  export default { getAll, create, update, deleteUser }","import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}\r\n      <button onClick={deletePerson}>delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\nconst Persons = ({filter, persons, deletePerson}) => {\r\n\r\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()) )\r\n  return (\r\n    personsToShow.map((person, i) => \r\n      <Person key={i} person={person} deletePerson={() => deletePerson(person.id)}/>\r\n    )\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\n\r\nconst PersonForm = ({ addName, newName, newNumber, handleNameChange, handleNumberChange }) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n\r\n            <div>\r\n                name: <input value={newName} onChange={handleNameChange} />\r\n            </div>\r\n\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleNumberChange} />\r\n            </div>\r\n\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({ filter, filterPersons }) => {\r\n    return (\r\n        <div>\r\n        filter shown with <input value={filter} onChange={filterPersons}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"notification\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"errorMessage\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport personService from './services/personService'\r\n\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport ErrorNotification from './components/ErrorNotification'\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n\r\n  const [newNumber, setNewNumber] = useState('')\r\n\r\n  const [filter, setFilter] = useState('')\r\n\r\n  const [notification, setNotification] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n\r\n    const personObject = { name: newName, number: newNumber }\r\n\r\n    if (persons.map(person => person.name).includes(newName)) {\r\n      const person = persons.find(person => person.name === newName)\r\n      console.log(person)\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const changedNumber = { ...person, number: newNumber }\r\n        personService\r\n          .update(person.id, changedNumber)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\r\n            setNotification(\r\n              `${newName} number has been changed to ${newNumber}`\r\n            )\r\n            setTimeout(() => {\r\n              setNotification(null)\r\n            }, 3000)\r\n          })\r\n          .catch(error => {\r\n            setErrorMessage(`Information of ${newName} has already been removed from server`)\r\n            setPersons(persons.filter(p => p.id !== person.id))\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 3000)\r\n          })\r\n      }\r\n\r\n    }\r\n    else {\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNotification(\r\n            `Added ${newName}`\r\n          )\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 3000)\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n        .catch(error => {\r\n          setErrorMessage(\r\n            `${error.response.data.error}`\r\n          )\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 3000)\r\n        })\r\n\r\n    }\r\n\r\n  }\r\n\r\n  const deletePerson = id => {\r\n\r\n    const person = persons.find(person => person.id === id)\r\n\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      personService\r\n        .deleteUser(id, person)\r\n        .then(\r\n          setPersons(persons.filter(person => person.id !== id)),\r\n          setNotification(\r\n            `Deleted ${person.name}`\r\n          ),\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 3000)\r\n        )\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const filterPersons = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} />\r\n      <ErrorNotification message={errorMessage} />\r\n\r\n\r\n      <Filter filter={filter} filterPersons={filterPersons} />\r\n\r\n\r\n      <h3>add a new</h3>\r\n      <PersonForm addName={addName} newName={newName} newNumber={newNumber}\r\n        handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\r\n\r\n      <h3>Numbers</h3>\r\n      <Persons persons={persons} filter={filter} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\n\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}