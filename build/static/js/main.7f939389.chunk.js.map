{"version":3,"sources":["services/personService.js","components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","person","deletePerson","name","number","onClick","Persons","filter","persons","toLowerCase","includes","map","i","PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","filterPersons","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","notification","setNotification","useEffect","personService","initialPersons","event","target","preventDefault","personObject","find","console","log","window","confirm","changedNumber","returnedPerson","p","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7f939389.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const deleteUser = (id, newObject) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  export default { getAll, create, update, deleteUser }","import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}\r\n      <button onClick={deletePerson}>delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\nconst Persons = ({filter, persons, deletePerson}) => {\r\n\r\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()) )\r\n  return (\r\n    personsToShow.map((person, i) => \r\n      <Person key={i} person={person} deletePerson={() => deletePerson(person.id)}/>\r\n    )\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\n\r\nconst PersonForm = ({ addName, newName, newNumber, handleNameChange, handleNumberChange }) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n\r\n            <div>\r\n                name: <input value={newName} onChange={handleNameChange} />\r\n            </div>\r\n\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleNumberChange} />\r\n            </div>\r\n\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({ filter, filterPersons }) => {\r\n    return (\r\n        <div>\r\n        filter shown with <input value={filter} onChange={filterPersons}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"notification\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport personService from './services/personService'\r\n\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n\r\n  const [newNumber, setNewNumber] = useState('')\r\n\r\n  const [filter, setFilter] = useState('')\r\n\r\n  const [notification, setNotification] = useState(null)\r\n\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n\r\n    const personObject = { name: newName, number: newNumber }\r\n\r\n    if (persons.map(person => person.name).includes(newName)) {\r\n      const person = persons.find(person => person.name === newName)\r\n      console.log(person)\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const changedNumber = {...person, number: newNumber}\r\n        personService\r\n          .update(person.id, changedNumber)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\r\n            setNotification(\r\n              `${newName} number has been changed to ${newNumber}`\r\n            )\r\n            setTimeout(() => {\r\n              setNotification(null)\r\n            }, 3000)\r\n          })\r\n          .catch(error => {\r\n            setNotification(`Information of ${newName} has already been removed from server`)\r\n            setPersons(persons.filter(p => p.id !== person.id))\r\n          })\r\n      }\r\n      \r\n    }\r\n    else {\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNotification(\r\n            `Added ${newName}`\r\n          )\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 3000)\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n    }\r\n\r\n  }\r\n\r\n  const deletePerson = id => {\r\n\r\n    const person = persons.find(person => person.id === id)\r\n\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      personService\r\n        .deleteUser(id, person)\r\n        .then(\r\n          setPersons(persons.filter(person => person.id !== id)),\r\n          setNotification(\r\n            `Deleted ${person.name}`\r\n          ),\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 3000)\r\n          )\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const filterPersons = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} />\r\n\r\n\r\n      <Filter filter={filter} filterPersons={filterPersons} />\r\n\r\n\r\n      <h3>add a new</h3>\r\n      <PersonForm addName={addName} newName={newName} newNumber={newNumber}\r\n        handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\r\n\r\n      <h3>Numbers</h3>\r\n      <Persons persons={persons} filter={filter} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\n\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}